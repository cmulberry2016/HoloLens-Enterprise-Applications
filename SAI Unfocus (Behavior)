// This script is intended to be used with the 'Unfocus' Vine script 

const btn = this.findOne('..btn-unfocus');
const anims = ['happy', 'sad', 'pulse', 'idle', 'move', 'work', 'talk', 'highlight', 'scan'];
var index = 0;

function enter() {
    btn.on('activated', saiActivate);
}

function exit() {
    btn.off('activated', saiActivate);
}

function saiActivate() {
    app.sai.unfocus();
    app.sai.speak("ok, i'll follow you.<break time=\"2s\"/> how did you like that dramatic pause?", function() {
        app.sai.write('I\'m done talking.')
    });
    // TODO: Figure out a way to nicely implement animations (Commenting just for practice) 
    // app.sai.animate(anims[index++]);
    // index %= anims.length;
}

module.exports = {
	enter: enter,
	exit: exit
};
	    
